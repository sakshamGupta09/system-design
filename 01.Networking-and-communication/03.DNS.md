# DNS

- Humans are good at remembering names than numbers. If I want to make a request to google server, I would prefer typing `google.com` instead of the IP of the server.
- But machines communicate with each other using IP addresses.
- So, we need a mapping between the domain names and IP addresses.


## How a DNS Request is Resolved (Step-by-Step)

- Let’s say you type: amazon.com


## Step 1: Browser Cache

- Your browser first checks Have I recently resolved amazon.com? If yes, it returns the cached IP else asks the OS.


## Step 2: OS Cache

- Your operating system keeps a small DNS cache.
- If found → return IP. If not → send request to DNS Resolver.

## Step 3: DNS Resolver (Recursive Resolver)

- Usually provided by ourn ISP.
- The resolver also checks its own cache. If found → returns IP immediately. If not → it starts querying the DNS hierarchy.

## Step 4: Root Nameserver

- Resolver asks: Where can I find .com? Root server replies:Ask the .com TLD server.
- Root servers don’t know the final IP. They only know where TLD servers are.

## Step 5: TLD Nameserver (.com)

- Resolver asks: Where is amazon.com?
- TLD replies: Ask Amazon’s authoritative server.
- It does NOT know the website’s IP. It only knows which authoritative nameserver is responsible for that domain.

## Step 6: Authoritative Nameserver

- Resolver asks: What is the IP of amazon.com?
- Authoritative server replies: “54.xxx.xxx.xxx” This is the final answer (source of truth).

## Step 7: Caching the Result

- Now the resolver:
- Stores the IP in its cache (for a duration called TTL – Time To Live)
- Sends IP back to your OS
- OS may cache it
- Browser may cache it
- The request stops at browser, OS, or resolver — no need to contact root/TLD again.

## Full Flow (With Cache Check Points)

Browser Cache
→ OS Cache
→ Resolver Cache
→ Root
→ TLD
→ Authoritative
→ Cache result everywhere on the way back
